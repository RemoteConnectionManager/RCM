#!/bin/bash
if [ "$2" = "config" ]
then
  echo "ClusterName             = marconi"
else
 if [ "$3" = "partition" ]
 then
  echo "PartitionName=bdw_all_serial AllowGroups=ALL AllowAccounts=ALL DenyQos=qos_rcm AllocNodes=ALL Default=YES QoS=bdw_all_serial DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=04:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r000u09l04,r000u10l05 PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=NO OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=72 TotalNodes=2 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerCPU=3000 MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.0"
  echo "PartitionName=knl_usr_dbg AllowGroups=ALL AllowAccounts=ALL DenyQos=qos_rcm AllocNodes=ALL Default=NO QoS=knl_usr_dbg DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=02:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r065c[01-06]s0[1-4] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=EXCLUSIVE OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=6528 TotalNodes=24 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.03125"
  echo "PartitionName=knl_usr_prod AllowGroups=ALL AllowAccounts=ALL DenyQos=qos_rcm AllocNodes=ALL Default=NO QoS=knl_usr_prod DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=195 MaxTime=1-00:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r065c[07-18]s0[1-4],r0[66-82]c[01-18]s0[1-4],r083c[01-13]s0[1-4],r083c14s[01-03],r[088-106]c[01-18]s0[1-4],r[109-111]c[01-18]s0[1-4],r112c[01-17]s0[1-4],r[113-114]c[01-18]s0[1-4] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=EXCLUSIVE OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=849456 TotalNodes=3123 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.03125"
  echo "PartitionName=knl_fua_prod AllowGroups=ALL AllowAccounts=ALL DenyQos=qos_rcm AllocNodes=ALL Default=NO QoS=knl_fua_prod DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=432 MaxTime=2-00:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r083c14s04,r083c[15-18]s[01-04],r0[84-87]c[01-18]s0[1-4],r10[7,8]c[01-18]s0[1-4] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=EXCLUSIVE OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=122128 TotalNodes=449 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.03125"
  echo "PartitionName=knl_sys_test AllowGroups=ALL AllowAccounts=ALL AllowQos=qos_test AllocNodes=ALL Default=NO QoS=N/A DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=UNLIMITED MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r112c18s0[1-4] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=EXCLUSIVE OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=1088 TotalNodes=4 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED"
  echo "PartitionName=skl_fua_dbg AllowGroups=ALL AllowAccounts=ALL DenyQos=skl_qos_fualprod,skl_qos_fuaspecial,skl_qos_fualowprio,qos_rcm AllocNodes=ALL Default=NO QoS=skl_fua_dbg DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=02:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r[129,130]c01s0[1-4],r[129,130]c02s0[1,2] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=EXCLUSIVE OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=576 TotalNodes=12 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.2"
  echo "PartitionName=skl_fua_prod AllowGroups=ALL AllowAccounts=ALL DenyQos=qos_rcm AllocNodes=ALL Default=NO QoS=skl_fua_prod DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=65 MaxTime=1-00:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r[129,130]c02s0[3,4],r[129,130]c[03-18]s0[1-4],r[131-136]c[01-18]s0[1-4],r137c[01-16]s0[1-4],r[138-148]c[01-18]s0[1-4],r149c[01-14]s[01-04],r171c[17-18]s0[1-4],r[160,172-180]c[01-18]s0[1-4],r[181-183]c[01-16]s0[1-4] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=EXCLUSIVE OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=115008 TotalNodes=2396 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.2"
  echo "PartitionName=skl_usr_dbg AllowGroups=ALL AllowAccounts=ALL AllowQos=ALL AllocNodes=ALL Default=NO QoS=skl_usr_dbg DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=00:30:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r161c[01-06]s0[1-4] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=EXCLUSIVE OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=1152 TotalNodes=24 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.2"
  echo "PartitionName=skl_usr_prod AllowGroups=ALL AllowAccounts=ALL DenyQos=qos_rcm AllocNodes=ALL Default=NO QoS=skl_usr_prod DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=64 MaxTime=1-00:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r161c[07-18]s0[1-4],r[162-170]c[01-18]s0[1-4],r171c[01-09,16]s0[1-4],r149c15s[01-04],r149c[16-18]s[01-04] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=EXCLUSIVE OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=36096 TotalNodes=752 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.2"
  echo "PartitionName=skl_sys_test AllowGroups=ALL AllowAccounts=ALL AllowQos=qos_test AllocNodes=ALL Default=NO QoS=N/A DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=UNLIMITED MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r171c15s0[1-4] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=EXCLUSIVE OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=192 TotalNodes=4 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerNode=UNLIMITED MaxMemPerNode=UNLIMITED"
 else
  echo "ReservationName=s_res_opa10.7 StartTime=2020-02-11T15:00:00 EndTime=2020-03-12T15:00:00 Duration=30-00:00:00 Nodes=r050c02s[01-10] NodeCnt=10 CoreCnt=360 Features=(null) PartitionName=gll_usr_prod Flags=SPEC_NODES TRES=cpu=360 Users=ibaccare,pdecleva,agrottes,aemerson,lcalori0 Accounts=(null) Licenses=(null) State=ACTIVE BurstBuffer=(null) Watts=n/a"
  echo "ReservationName=s_met_cima.Tue StartTime=2020-03-03T04:50:00 EndTime=2020-03-03T10:50:00 Duration=06:00:00 Nodes=r032c02s[05-06,08],r034c04s[01-02,08],r035c03s[03-11],r036c06s11,r038c06s[07-12],r040c03s12,r041c06s[01,03],r042c03s10,r042c06s11,r051c01s[05-10],r051c02s[02-05,12],r051c03s[01-12] NodeCnt=50 CoreCnt=1800 Features=(null) PartitionName=(null) Flags=SPEC_NODES TRES=cpu=1800 Users=planucar,edanovar Accounts=(null) Licenses=(null) State=INACTIVE BurstBuffer=(null) Watts=n/a"
  echo "ReservationName=s_met_cima.Wed StartTime=2020-03-04T04:50:00 EndTime=2020-03-04T10:50:00 Duration=06:00:00 Nodes=r032c02s[05-06,08],r034c04s[01-02,08],r035c03s[03-11],r036c06s11,r038c06s[07-12],r040c03s12,r041c06s[01,03],r042c03s10,r042c06s11,r051c01s[05-10],r051c02s[02-05,12],r051c03s[01-12] NodeCnt=50 CoreCnt=1800 Features=(null) PartitionName=(null) Flags=SPEC_NODES TRES=cpu=1800 Users=planucar,edanovar Accounts=(null) Licenses=(null) State=INACTIVE BurstBuffer=(null) Watts=n/a"
  echo "ReservationName=s_ind_dlr StartTime=2020-02-27T09:00:00 EndTime=2020-12-31T23:59:00 Duration=308-14:59:00 Nodes=r053c06s09 NodeCnt=1 CoreCnt=36 Features=(null) PartitionName=gll_usr_gpuprod Flags=SPEC_NODES TRES=cpu=36 Users=(null) Accounts=dlr_dev Licenses=(null) State=ACTIVE BurstBuffer=(null) Watts=n/a"
  echo "ReservationName=s_met_cima.Thu StartTime=2020-03-05T04:50:00 EndTime=2020-03-05T10:50:00 Duration=06:00:00 Nodes=r032c02s[05-06,08],r034c04s[01-02,08],r035c03s[03-11],r036c06s11,r038c06s[07-12],r040c03s12,r041c06s[01,03],r042c03s10,r042c06s11,r051c01s[05-10],r051c02s[02-05,12],r051c03s[01-12] NodeCnt=50 CoreCnt=1800 Features=(null) PartitionName=(null) Flags=SPEC_NODES TRES=cpu=1800 Users=planucar,edanovar Accounts=(null) Licenses=(null) State=INACTIVE BurstBuffer=(null) Watts=n/a"
  echo "ReservationName=s_met_cima.Fri StartTime=2020-03-06T04:50:00 EndTime=2020-03-06T10:50:00 Duration=06:00:00 Nodes=r032c02s[05-06,08],r034c04s[01-02,08],r035c03s[03-11],r036c06s11,r038c06s[07-12],r040c03s12,r041c06s[01,03],r042c03s10,r042c06s11,r051c01s[05-10],r051c02s[02-05,12],r051c03s[01-12] NodeCnt=50 CoreCnt=1800 Features=(null) PartitionName=(null) Flags=SPEC_NODES TRES=cpu=1800 Users=planucar,edanovar Accounts=(null) Licenses=(null) State=INACTIVE BurstBuffer=(null) Watts=n/a"
  echo "ReservationName=s_met_cima.Sat StartTime=2020-03-07T04:50:00 EndTime=2020-03-07T10:50:00 Duration=06:00:00 Nodes=r032c02s[05-06,08],r034c04s[01-02,08],r035c03s[03-11],r036c06s11,r038c06s[07-12],r040c03s12,r041c06s[01,03],r042c03s10,r042c06s11,r051c01s[05-10],r051c02s[02-05,12],r051c03s[01-12] NodeCnt=50 CoreCnt=1800 Features=(null) PartitionName=(null) Flags=SPEC_NODES TRES=cpu=1800 Users=planucar,edanovar Accounts=(null) Licenses=(null) State=INACTIVE BurstBuffer=(null) Watts=n/a"
  echo "ReservationName=s_met_cima.Sun StartTime=2020-03-08T04:50:00 EndTime=2020-03-08T10:50:00 Duration=06:00:00 Nodes=r032c02s[05-06,08],r034c04s[01-02,08],r035c03s[03-11],r036c06s11,r038c06s[07-12],r040c03s12,r041c06s[01,03],r042c03s10,r042c06s11,r051c01s[05-10],r051c02s[02-05,12],r051c03s[01-12] NodeCnt=50 CoreCnt=1800 Features=(null) PartitionName=(null) Flags=SPEC_NODES TRES=cpu=1800 Users=planucar,edanovar Accounts=(null) Licenses=(null) State=INACTIVE BurstBuffer=(null) Watts=n/a"
  echo "ReservationName=s_met_cima.Mon StartTime=2020-03-09T04:50:00 EndTime=2020-03-09T10:50:00 Duration=06:00:00 Nodes=r032c02s[05-06,08],r034c04s[01-02,08],r035c03s[03-11],r036c06s11,r038c06s[07-12],r040c03s12,r041c06s[01,03],r042c03s10,r042c06s11,r051c01s[05-10],r051c02s[02-05,12],r051c03s[01-12] NodeCnt=50 CoreCnt=1800 Features=(null) PartitionName=(null) Flags=SPEC_NODES TRES=cpu=1800 Users=planucar,edanovar Accounts=(null) Licenses=(null) State=INACTIVE BurstBuffer=(null) Watts=n/a"
 fi
fi
