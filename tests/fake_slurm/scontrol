#!/bin/bash
if [ "$2" = "config" ]
then
  echo "ClusterName             = galileo"
else
  echo "PartitionName=gll_meteo_prod AllowGroups=ALL AllowAccounts=ALL AllowQos=gll_qos_meteoogs,gll_qos_meteopar,gll_qos_arpap,gll_qos_meteoarpae,gll_qos_meteotest AllocNodes=ALL Default=NO QoS=N/A DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=1-00:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r037c0[1-6]s[01-12],r038c0[1-4]s[01-12],r038c05s0[1-4] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=NO OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=4464 TotalNodes=124 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerCPU=3000 MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.25,Mem=0.072G"
  echo "PartitionName=gll_usr_prod AllowGroups=ALL DenyAccounts=linco_galinew,fer_prod1,eli_prod1 AllowQos=ALL AllocNodes=ALL Default=NO QoS=gll_usr_prod DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=64 MaxTime=1-00:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r032c[02-03]s[01-12],r0[34-36,39,40,42,49-52]c[01-06]s[01-12],r038c06s[05-12],r041c[01-03,06]s[01-12],r041c05s[07-12],r033c01s[01-02,06-07] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=NO OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=29160 TotalNodes=810 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerCPU=3000 MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.25,Mem=0.072G"
  echo "PartitionName=gll_spc_prod AllowGroups=ALL AllowAccounts=ALL AllowQos=gll_qos_lincoln,gll_qos_ferretti,gll_qos_elica AllocNodes=ALL Default=NO QoS=N/A DefaultTime=00:05:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=1-00:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r038c05s[05-12],r038c06s0[1-4] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=NO OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=432 TotalNodes=12 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerCPU=3000 MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.25,Mem=0.072G"
  echo "PartitionName=gll_usr_gpuprod AllowGroups=ALL DenyAccounts=linco_invenew,linco_tph1,linco_galinew,fer_prod1,eli_prod1 AllowQos=ALL AllocNodes=ALL Default=NO QoS=gll_usr_gpuprod DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=4 MaxTime=08:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r032c01s[01,02,05,06,09,10],r053c[01-06]s[01,02,05,06,09,10] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=NO OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=1512 TotalNodes=42 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerCPU=3000 MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.25,Mem=0.072G,GRES/gpu=1"
  echo "PartitionName=gll_usr_gpudev AllowGroups=ALL AllowAccounts=ALL AllowQos=gll_qos_gpudev AllocNodes=ALL Default=NO QoS=N/A DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=1-00:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r033c02s[01-02] PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=NO OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=72 TotalNodes=2 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerCPU=3000 MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.25,Mem=0.035G,GRES/gpu=1"
  echo "PartitionName=gll_all_serial AllowGroups=ALL AllowAccounts=ALL AllowQos=ALL AllocNodes=ALL Default=YES QoS=gll_all_serial DefaultTime=00:30:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=04:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r033c02s05,r033c01s06 PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=NO OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=72 TotalNodes=2 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerCPU=3000 MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.0"
  echo "PartitionName=gll_all_transfer AllowGroups=ALL AllowAccounts=ALL AllowQos=ALL AllocNodes=ALL Default=NO QoS=gll_all_transfer DefaultTime=02:00:00 DisableRootJobs=YES ExclusiveUser=NO GraceTime=0 Hidden=NO MaxNodes=UNLIMITED MaxTime=1-00:00:00 MinNodes=0 LLN=NO MaxCPUsPerNode=UNLIMITED Nodes=r033c01s[01,02],r033c01s07 PriorityJobFactor=1 PriorityTier=1 RootOnly=NO ReqResv=NO OverSubscribe=NO OverTimeLimit=NONE PreemptMode=OFF State=UP TotalCPUs=108 TotalNodes=3 SelectTypeParameters=NONE JobDefaults=(null) DefMemPerCPU=3000 MaxMemPerNode=UNLIMITED TRESBillingWeights=CPU=0.0"

fi