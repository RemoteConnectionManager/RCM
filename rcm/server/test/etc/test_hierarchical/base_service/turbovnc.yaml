defaults:
  TOP:
    SERVICE :
      VNC :
        COMMAND :
          TurboVNC :
            substitutions :
              SETUP: "module load rcm"
              LOGFILE: "@{RCM_SESSION_FOLDER}/vnclog"
              VNC_PASSWORDFILE: "@{RCM_SESSION_FOLDER}/vncpassword"
              PRELOAD_LINE: "@{SETUP}; echo -e @{VNCPASSWORD} | vncpasswd -f > @{VNC_PASSWORDFILE}"
              COMMAND_LINE: "vncserver @{WM_FLAGS} -fg -geometry @{DISPLAY} -rfbauth  @{VNC_PASSWORDFILE}  @{WM_COMMAND} "
              START_REGEX_LIST:
              - ^New 'X' desktop is (?P<node>\w+):(?P<display>\d+)
              - ^Desktop '(.*)' started on display (?P<node>\w+):(?P<display>\d+)
              - ^New '(.*)' desktop is (?P<node>\w+):(?P<display>\d+)

            WM :
              Fluxbox :
                substitutions :
                  WM_COMMAND: "-xstartup ${RCM_HOME}/bin/config/xstartup.fluxbox"
                XSIZE:
                  min : 400
                YSIZE:
                  min : 400

